<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bingo</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Serif&display=swap" rel="stylesheet">
  
</head>
<body class="flex flex-col py-2 lg:px-8">
    <div class="containerPlay">
        <!-- Title: Find Someone-->
        <div>
            <h2 class="mt-8 text-center text-4xl leading-9 tracking-tight text-gray-900">Find Someone</h2>
        </div>

        <!-- js Q&A -->
        <div class="scrollable-container-play">
            <form id="answer-form" class="mt-2 space-y-4 px-6">
                <div id="answer-container" class="block text-sm font-medium leading-6 text-gray-900"></div>
            </form>
        </div>        
        <script src="script.js"></script>
    </div>

        </div>
    </div>
    <div class="stick-res bingo-area bottom-0 flex px-4 py-4">
        <div class="flex-grow">
            <h1 class="mt-14 text-center text-3xl leading-9 tracking-tight text-gray-900">BINGO</h1>
            <h2 class="text-center text-sm leading-9 tracking-tight text-gray-900">Alex & Avery</h2>
        </div> 
        <div class="mx-auto p-4">
            <div class="circle-container flex">
                <div class="bin-circle" id="circle1">1</div>
                <div class="bin-circle" id="circle2">2</div>
                <div class="bin-circle" id="circle3">3</div>
                <div class="bin-circle" id="circle4">4</div>
              </div>
              <div class="circle-container flex">
                <div class="bin-circle" id="circle5">5</div>
                <div class="bin-circle" id="circle6">6</div>
                <div class="bin-circle" id="circle7">7</div>
                <div class="bin-circle" id="circle8">8</div>
              </div>
              <div class="circle-container flex">
                <div class="bin-circle" id="circle9">9</div>
                <div class="bin-circle" id="circle10">10</div>
                <div class="bin-circle" id="circle11">11</div>
                <div class="bin-circle" id="circle12">12</div>
              </div>
              <div class="circle-container flex">
                <div class="bin-circle" id="circle13">13</div>
                <div class="bin-circle" id="circle14">14</div>
                <div class="bin-circle" id="circle15">15</div>
                <div class="bin-circle" id="circle16">16</div>
              </div>              
     </div>
     <!-- Footer -->
     <div class="sticky bottom-0">
         <footer class="text-center mt-6 text-gray-500 py-4 ">Template by @hakkaengineer.bf</footer>
     </div>

</body>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const questionCount = 16;

        const questions = [
            "出生的月份",
            "最喜歡的飲料",
            "最喜歡的動物",
            "最想去旅行的國家",
            "最喜歡的運動",
            "有幾個兄弟姊妹",
            "出生的縣市",
            "最想要的超能力",
            "最喜歡的電影",
            "最喜歡的顏色",
            "最喜歡的季節",
            "最喜歡的動畫/卡通",
            "最喜歡的YouTuber",
            "最喜歡的夜市",
            "最近玩的遊戲",
            "最喜歡的節日"
        ];

        for (let index = 0; index < questionCount; index++) {
            const quesBox = document.createElement("div");
            quesBox.className = "ques-box " + (index % 2 === 0 ? "bg-pink" : "");
            quesBox.classList.add("flex", "py-4", "px-4", "justify-center");
            quesBox.innerHTML = `
                <div class="ques-circle text-4xl" id="circleb${index + 1}">${index + 1}</div>
                <div class="flex-grow">
                    <div>${questions[index]}</div>
                    <div id="answer${index}" class="text-2xl mt-1"></div>
                </div>
                <div>
                    <div class="text-center w-100">Same as me!</div>
                    <input type="text" id="input${index}" placeholder="Name" class="mt-1 w-100 border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:border-blue-500">
                </div>
            `;
            document.querySelector(".containerPlay").appendChild(quesBox);

            const answerElement = document.getElementById(`answer${index}`);
            const nameInput = document.getElementById(`input${index}`);
            nameInput.value = localStorage.getItem(`friend${index}`) || '';
            if(nameInput.value) {
                const circleb = document.getElementById(`circleb${index+1}`);
                const circle = document.getElementById(`circle${index+1}`);
                circleb.style.backgroundColor = '#000000'
                circleb.style.color = '#FFFFFF'
                circle.style.color = '#FFFFFF'
                circle.style.backgroundColor = '#000000'
            }
            // Load saved value from localStorage when the page loads
            answerElement.textContent = localStorage.getItem(`answer${index}`) || '';

            // Save input value to localStorage when it changes
            nameInput.addEventListener("input", function () {
                localStorage.setItem(`friend${index}`, nameInput.value);
                if(nameInput.value){
                    const circleb = document.getElementById(`circleb${index+1}`);
                    const circle = document.getElementById(`circle${index+1}`);
                    circleb.style.backgroundColor = '#E7788B'
                    circleb.style.color = '#FFFFFF'
                    circle.style.color = '#FFFFFF'
                    circle.style.backgroundColor = '#E7788B'
                } else {
                    const circleb = document.getElementById(`circleb${index+1}`);
                    const circle = document.getElementById(`circle${index+1}`);
                    circleb.style.backgroundColor = '#D9D9D9'
                    circleb.style.color = '#000000'
                    circle.style.color = '#000000'
                    circle.style.backgroundColor = '#D9D9D9'
                }

            });
        }
    });                
</script>
</html>
